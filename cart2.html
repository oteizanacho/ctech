<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
  <title>Carrito de Compras - Chinga Tech</title>
  <style>
    /* Estilos para carrito de compras */
    .cart-container{
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }
    @media (max-width: 1024px){
      .cart-container{
        grid-template-columns: 1fr;
      }
    }

    /* Items del carrito */
    .cart-items{
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    .cart-item{
      padding: 1.5rem;
      background: #FFFFFF;
      border: var(--b) solid var(--ink);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display: grid;
      grid-template-columns: 120px 1fr auto;
      gap: 1.5rem;
      align-items: center;
    }
    @media (max-width: 640px){
      .cart-item{
        grid-template-columns: 100px 1fr;
        gap: 1rem;
      }
      .cart-item-actions{
        grid-column: 1 / -1;
      }
    }

    .cart-item-img{
      width: 100%;
      aspect-ratio: 1;
      border-radius: 12px;
      border: var(--b) solid var(--ink);
      box-shadow: var(--shadow-sm);
      object-fit: cover;
    }
    .cart-item-info{
      flex: 1;
    }
    .cart-item-name{
      font-size: 1.2rem;
      font-weight: 900;
      margin-bottom: 0.5rem;
    }
    .cart-item-specs{
      font-weight: 700;
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
    }
    .cart-item-price{
      font-size: 1.3rem;
      font-weight: 900;
      color: var(--primary);
    }
    .cart-item-actions{
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: flex-end;
    }
    .quantity-control{
      display: flex;
      align-items: center;
      gap: 0.8rem;
      border: var(--b) solid var(--ink);
      border-radius: 12px;
      padding: 0.5rem;
      background: #FFFFFF;
      box-shadow: var(--shadow-sm);
    }
    .quantity-btn{
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: var(--b) solid var(--ink);
      background: #EAEAEA;
      font-weight: 900;
      font-size: 1.2rem;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: transform .1s ease, box-shadow .1s ease;
    }
    .quantity-btn:hover{
      transform: translate(-1px, -1px);
      box-shadow: var(--shadow-sm);
    }
    .quantity-value{
      min-width: 40px;
      text-align: center;
      font-weight: 900;
      font-size: 1.1rem;
    }
    .remove-btn{
      padding: 8px 16px;
      border-radius: 10px;
      border: var(--b) solid var(--ink);
      background: #FF9B9B;
      color: var(--ink);
      font-weight: 900;
      cursor: pointer;
      box-shadow: var(--shadow-sm);
      transition: transform .1s ease, box-shadow .1s ease;
    }
    .remove-btn:hover{
      transform: translate(-2px, -2px);
      box-shadow: var(--shadow);
    }

    /* Resumen del pedido */
    .cart-summary{
      position: sticky;
      top: 100px;
      height: fit-content;
    }
    .summary-card{
      padding: 1.5rem;
      background: #FFFFFF;
      border: var(--b) solid var(--ink);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .summary-title{
      font-size: 1.5rem;
      font-weight: 900;
      margin-bottom: 1.5rem;
    }
    .summary-row{
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
      border-bottom: 2px solid #EAEAEA;
    }
    .summary-row:last-of-type{
      border-bottom: none;
    }
    .summary-label{
      font-weight: 700;
      color: var(--muted);
    }
    .summary-value{
      font-weight: 900;
      font-size: 1.1rem;
    }
    .summary-total{
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 0;
      margin-top: 1rem;
      border-top: var(--b) solid var(--ink);
    }
    .summary-total-label{
      font-size: 1.3rem;
      font-weight: 900;
    }
    .summary-total-value{
      font-size: 2rem;
      font-weight: 900;
      color: var(--primary);
    }
    .discount-badge{
      display: inline-block;
      padding: 4px 10px;
      font-weight: 800;
      background: #A7F3D0;
      border: var(--b) solid var(--ink);
      border-radius: 999px;
      box-shadow: var(--shadow-sm);
      font-size: 0.85rem;
      margin-left: 0.5rem;
    }
    .summary-actions{
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .btn-checkout{
      height: 56px;
      font-size: 1.1rem;
      background: var(--accent);
      color: var(--ink);
      font-weight: 900;
    }
    .btn-continue{
      height: 56px;
      font-size: 1.1rem;
      background: var(--blue);
      color: var(--ink);
      font-weight: 900;
    }

    /* Carrito vac√≠o */
    .empty-cart{
      text-align: center;
      padding: 4rem 2rem;
      background: #FFFFFF;
      border: var(--b) solid var(--ink);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-top: 2rem;
    }
    .empty-cart-icon{
      font-size: 5rem;
      margin-bottom: 1.5rem;
    }
    .empty-cart-title{
      font-size: 2rem;
      font-weight: 900;
      margin-bottom: 1rem;
    }
    .empty-cart-text{
      font-weight: 700;
      color: var(--muted);
      margin-bottom: 2rem;
    }

    /* Cup√≥n de descuento */
    .coupon-section{
      padding: 1.5rem;
      background: #FFFFFF;
      border: var(--b) solid var(--ink);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom: 1.5rem;
    }
    .coupon-title{
      font-size: 1.1rem;
      font-weight: 900;
      margin-bottom: 1rem;
    }
    .coupon-input{
      display: flex;
      gap: 0.8rem;
    }
    .coupon-input input{
      flex: 1;
      height: 48px;
      padding: 0 1rem;
      border: var(--b) solid var(--ink);
      border-radius: 12px;
      background: #EAEAEA;
      font-weight: 700;
      font-size: 1rem;
      box-shadow: var(--shadow-sm);
      outline: none;
    }
    .coupon-input input:focus{
      background: #FFFFFF;
    }
    .coupon-btn{
      height: 48px;
      padding: 0 1.5rem;
      border-radius: 12px;
      border: var(--b) solid var(--ink);
      background: #FFD803;
      color: var(--ink);
      font-weight: 900;
      cursor: pointer;
      box-shadow: var(--shadow-sm);
      transition: transform .1s ease, box-shadow .1s ease;
    }
    .coupon-btn:hover{
      transform: translate(-2px, -2px);
      box-shadow: var(--shadow);
    }

    /* Productos relacionados */
    .related-section{
      margin-top: 4rem;
    }

    /* Breadcrumbs */
    .breadcrumbs{
      margin-top: 1rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      font-weight: 700;
      font-size: 0.9rem;
    }
    .breadcrumbs a{
      color: var(--ink);
      text-decoration: none;
    }
    .breadcrumbs span{
      color: var(--muted);
    }
  </style>
</head>
<body>
  <header>
    <div class="container header-inner">
      <a href="index.html" class="brand" aria-label="Inicio">
        <div class="brand-badge">üå∂Ô∏è</div>
        <div class="brand-name">Chinga Tech</div>
      </a>

      <form class="block search" role="search" aria-label="Buscar productos" onsubmit="event.preventDefault()">
        <input type="search" placeholder="Buscar celulares, marcas, accesorios..." aria-label="Buscar" />
        <button class="btn" type="submit" aria-label="Ejecutar b√∫squeda">Buscar</button>
      </form>

      <div class="user-panel">
        <button class="icon-btn" aria-label="Favoritos">‚òÖ</button>
        <button class="icon-btn" aria-label="Carrito">üõí</button>
        <button class="icon-btn" aria-label="Usuario">üë§</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Breadcrumbs -->
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="index.html">Inicio</a>
      <span>/</span>
      <span>Carrito de Compras</span>
    </nav>

    <h1 style="font-size: 2rem; font-weight: 900; margin-top: 2rem; margin-bottom: 1rem;">Carrito de Compras</h1>

    <!-- Contenedor del carrito -->
    <div class="cart-container">
      <!-- Items del carrito -->
      <div class="cart-items">
        <!-- Item 1 -->
        <div class="cart-item">
          <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=400&auto=format&fit=crop" alt="Smartphone Pro X" class="cart-item-img" />
          <div class="cart-item-info">
            <div class="cart-item-name">Smartphone Pro X</div>
            <div class="cart-item-specs">128 GB ‚Ä¢ 5G ‚Ä¢ Pantalla AMOLED</div>
            <div class="cart-item-price">$ 299.999</div>
          </div>
          <div class="cart-item-actions">
            <div class="quantity-control">
              <button class="quantity-btn" onclick="updateQuantity('item1', -1)">‚àí</button>
              <span class="quantity-value" id="qty-item1">1</span>
              <button class="quantity-btn" onclick="updateQuantity('item1', 1)">+</button>
            </div>
            <button class="remove-btn" onclick="removeItem('item1')">Eliminar</button>
          </div>
        </div>

        <!-- Item 2 -->
        <div class="cart-item">
          <img src="https://images.unsplash.com/photo-1510552776732-01acc9a4c224?q=80&w=400&auto=format&fit=crop" alt="Lite S 5G" class="cart-item-img" />
          <div class="cart-item-info">
            <div class="cart-item-name">Lite S 5G</div>
            <div class="cart-item-specs">256 GB ‚Ä¢ 120Hz ‚Ä¢ C√°mara 64MP</div>
            <div class="cart-item-price">$ 249.999</div>
          </div>
          <div class="cart-item-actions">
            <div class="quantity-control">
              <button class="quantity-btn" onclick="updateQuantity('item2', -1)">‚àí</button>
              <span class="quantity-value" id="qty-item2">2</span>
              <button class="quantity-btn" onclick="updateQuantity('item2', 1)">+</button>
            </div>
            <button class="remove-btn" onclick="removeItem('item2')">Eliminar</button>
          </div>
        </div>

        <!-- Item 3 -->
        <div class="cart-item">
          <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=400&auto=format&fit=crop" alt="Funda protectora" class="cart-item-img" />
          <div class="cart-item-info">
            <div class="cart-item-name">Funda Protectora Premium</div>
            <div class="cart-item-specs">Silic√≥n ‚Ä¢ Transparente ‚Ä¢ Resistente</div>
            <div class="cart-item-price">$ 4.999</div>
          </div>
          <div class="cart-item-actions">
            <div class="quantity-control">
              <button class="quantity-btn" onclick="updateQuantity('item3', -1)">‚àí</button>
              <span class="quantity-value" id="qty-item3">3</span>
              <button class="quantity-btn" onclick="updateQuantity('item3', 1)">+</button>
            </div>
            <button class="remove-btn" onclick="removeItem('item3')">Eliminar</button>
          </div>
        </div>
      </div>

      <!-- Resumen del pedido -->
      <div class="cart-summary">
        <div class="summary-card">
          <h2 class="summary-title">Resumen del Pedido</h2>

          <!-- Cup√≥n de descuento -->
          <div class="coupon-section">
            <div class="coupon-title">¬øTienes un cup√≥n?</div>
            <div class="coupon-input">
              <input type="text" placeholder="C√≥digo de descuento" id="couponCode" />
              <button class="coupon-btn" onclick="applyCoupon()">Aplicar</button>
            </div>
          </div>

          <!-- Resumen de precios -->
          <div class="summary-row">
            <span class="summary-label">Subtotal</span>
            <span class="summary-value" id="subtotal">$ 808.994</span>
          </div>
          <div class="summary-row">
            <span class="summary-label">Descuento</span>
            <span class="summary-value" id="discount">$ 0</span>
          </div>
          <div class="summary-row">
            <span class="summary-label">Env√≠o</span>
            <span class="summary-value">GRATIS</span>
          </div>
          <div class="summary-row">
            <span class="summary-label">Impuestos</span>
            <span class="summary-value" id="taxes">$ 97.079</span>
          </div>
          <div class="summary-total">
            <span class="summary-total-label">Total</span>
            <span class="summary-total-value" id="total">$ 906.073</span>
          </div>
          <div style="margin-top: 1rem; padding: 1rem; background: #FDE68A; border: var(--b) solid var(--ink); border-radius: 12px; box-shadow: var(--shadow-sm);">
            <div style="font-weight: 900; margin-bottom: 0.5rem;">üéÅ ¬°Env√≠o gratis!</div>
            <div style="font-weight: 700; color: var(--muted); font-size: 0.9rem;">Tu pedido califica para env√≠o gratuito</div>
          </div>

          <!-- Botones de acci√≥n -->
          <div class="summary-actions">
            <button class="btn btn-checkout" onclick="proceedToCheckout()">Proceder al Checkout</button>
            <button class="btn btn-continue" onclick="window.location.href='index.html'">Continuar Comprando</button>
          </div>
        </div>

        <!-- Informaci√≥n adicional -->
        <div class="summary-card" style="margin-top: 1.5rem;">
          <div style="display: flex; flex-direction: column; gap: 1rem;">
            <div style="display: flex; align-items: center; gap: 0.8rem;">
              <span style="font-size: 1.5rem;">üõ°Ô∏è</span>
              <div>
                <div style="font-weight: 900;">Compra protegida</div>
                <div style="font-weight: 700; color: var(--muted); font-size: 0.85rem;">Garant√≠a de 12 meses</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 0.8rem;">
              <span style="font-size: 1.5rem;">‚Ü©Ô∏è</span>
              <div>
                <div style="font-weight: 900;">Devoluci√≥n gratis</div>
                <div style="font-weight: 700; color: var(--muted); font-size: 0.85rem;">Hasta 30 d√≠as</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 0.8rem;">
              <span style="font-size: 1.5rem;">üí≥</span>
              <div>
                <div style="font-weight: 900;">12 cuotas sin inter√©s</div>
                <div style="font-weight: 700; color: var(--muted); font-size: 0.85rem;">Con bancos seleccionados</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Productos relacionados -->
    <section class="section related-section">
      <div class="section-header">
        <div class="section-title">Productos que podr√≠an interesarte</div>
        <a class="view-all" href="#">Ver todo</a>
      </div>
      <div class="grid">
        <article class="block card">
          <div class="card-media">
            <img src="https://images.unsplash.com/photo-1529619768328-e37af76c6fe5?q=80&w=1200&auto=format&fit=crop" alt="Max Ultra" />
            <span class="badge chip" style="background:#A7F3D0">Nuevo</span>
          </div>
          <div class="card-title">Max Ultra</div>
          <div class="card-meta">512 GB ‚Ä¢ C√°mara 108MP</div>
          <div class="price-row">
            <div class="price">$ 379.999</div>
            <button class="btn cta">Agregar</button>
          </div>
        </article>

        <article class="block card">
          <div class="card-media">
            <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=1200&auto=format&fit=crop" alt="Compact M" />
            <span class="badge chip" style="background:#93C5FD">#4</span>
          </div>
          <div class="card-title">Compact M</div>
          <div class="card-meta">64 GB ‚Ä¢ Bater√≠a 5000mAh</div>
          <div class="price-row">
            <div class="price">$ 199.999</div>
            <button class="btn cta">Agregar</button>
          </div>
        </article>

        <article class="block card">
          <div class="card-media">
            <img src="https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?q=80&w=1200&auto=format&fit=crop" alt="Cargador r√°pido" />
            <span class="badge chip" style="background:#FFD803">Accesorio</span>
          </div>
          <div class="card-title">Cargador R√°pido 65W</div>
          <div class="card-meta">USB-C ‚Ä¢ Carga r√°pida</div>
          <div class="price-row">
            <div class="price">$ 8.999</div>
            <button class="btn cta">Agregar</button>
          </div>
        </article>

        <article class="block card">
          <div class="card-media">
            <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=1200&auto=format&fit=crop" alt="Auriculares" />
            <span class="badge chip" style="background:#FF9B9B">Nuevo</span>
          </div>
          <div class="card-title">Auriculares Inal√°mbricos</div>
          <div class="card-meta">Bluetooth 5.3 ‚Ä¢ Noise Cancel</div>
          <div class="price-row">
            <div class="price">$ 24.999</div>
            <button class="btn cta">Agregar</button>
          </div>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-grid">
      <div>
        <div class="footer-title">Contacto</div>
        <a class="footer-link" href="mailto:hola@chingatech.com">hola@chingatech.com</a><br/>
        <a class="footer-link" href="tel:+540800000000">0800-000-000</a>
      </div>
      <div>
        <div class="footer-title">Ayuda</div>
        <a class="footer-link" href="#">Env√≠os</a><br/>
        <a class="footer-link" href="#">Devoluciones</a><br/>
        <a class="footer-link" href="#">Garant√≠as</a>
      </div>
      <div>
        <div class="footer-title">Redes</div>
        <a class="footer-link" href="#" aria-label="Instagram">Instagram</a><br/>
        <a class="footer-link" href="#" aria-label="Twitter">Twitter</a><br/>
        <a class="footer-link" href="#" aria-label="Facebook">Facebook</a>
      </div>
    </div>
  </footer>

  <script>
    // Precios de los items
    const itemPrices = {
      'item1': 299999,
      'item2': 249999,
      'item3': 4999
    };

    // Cantidades actuales
    const quantities = {
      'item1': 1,
      'item2': 2,
      'item3': 3
    };

    let discount = 0;
    let discountPercentage = 0;

    // Actualizar cantidad
    function updateQuantity(itemId, change) {
      const currentQty = quantities[itemId] || 1;
      const newQty = Math.max(1, currentQty + change);
      quantities[itemId] = newQty;
      
      const qtyElement = document.getElementById('qty-' + itemId);
      if (qtyElement) {
        qtyElement.textContent = newQty;
      }
      
      updateTotals();
    }

    // Eliminar item
    function removeItem(itemId) {
      const item = document.querySelector(`[onclick*="'${itemId}'"]`).closest('.cart-item');
      if (item && confirm('¬øEst√°s seguro de eliminar este producto del carrito?')) {
        item.remove();
        delete quantities[itemId];
        delete itemPrices[itemId];
        updateTotals();
        
        // Si no hay items, mostrar carrito vac√≠o
        if (document.querySelectorAll('.cart-item').length === 0) {
          showEmptyCart();
        }
      }
    }

    // Aplicar cup√≥n
    function applyCoupon() {
      const code = document.getElementById('couponCode').value.toUpperCase();
      
      if (code === 'DESCUENTO10') {
        discountPercentage = 10;
        discount = calculateSubtotal() * 0.1;
        alert('¬°Cup√≥n aplicado! Descuento del 10%');
        updateTotals();
      } else if (code === 'DESCUENTO20') {
        discountPercentage = 20;
        discount = calculateSubtotal() * 0.2;
        alert('¬°Cup√≥n aplicado! Descuento del 20%');
        updateTotals();
      } else if (code === '') {
        alert('Por favor ingresa un c√≥digo de descuento');
      } else {
        alert('C√≥digo de descuento inv√°lido');
      }
    }

    // Calcular subtotal
    function calculateSubtotal() {
      let subtotal = 0;
      for (const itemId in quantities) {
        if (itemPrices[itemId]) {
          subtotal += itemPrices[itemId] * quantities[itemId];
        }
      }
      return subtotal;
    }

    // Actualizar totales
    function updateTotals() {
      const subtotal = calculateSubtotal();
      const discountAmount = discount;
      const subtotalWithDiscount = subtotal - discountAmount;
      const taxes = subtotalWithDiscount * 0.12; // 12% de impuestos
      const total = subtotalWithDiscount + taxes;

      document.getElementById('subtotal').textContent = '$ ' + formatNumber(subtotal);
      document.getElementById('discount').textContent = discountAmount > 0 ? '- $ ' + formatNumber(discountAmount) : '$ 0';
      document.getElementById('taxes').textContent = '$ ' + formatNumber(Math.round(taxes));
      document.getElementById('total').textContent = '$ ' + formatNumber(Math.round(total));
    }

    // Formatear n√∫mero
    function formatNumber(num) {
      return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    // Mostrar carrito vac√≠o
    function showEmptyCart() {
      const container = document.querySelector('.cart-container');
      container.innerHTML = `
        <div class="empty-cart">
          <div class="empty-cart-icon">üõí</div>
          <h2 class="empty-cart-title">Tu carrito est√° vac√≠o</h2>
          <p class="empty-cart-text">¬°Agrega productos incre√≠bles a tu carrito!</p>
          <button class="btn" style="background: var(--accent); height: 56px; font-size: 1.1rem; padding: 0 2rem;" onclick="window.location.href='index.html'">
            Ir a Comprar
          </button>
        </div>
      `;
    }

    // Proceder al checkout
    function proceedToCheckout() {
      if (Object.keys(quantities).length === 0) {
        alert('Tu carrito est√° vac√≠o. Agrega productos antes de continuar.');
        return;
      }
      alert('Redirigiendo al checkout...');
      // window.location.href = 'checkout.html';
    }

    // Inicializar totales
    updateTotals();
  </script>
</body>
</html>

